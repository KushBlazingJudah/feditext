-- vim: set ft=sql:
CREATE TABLE IF NOT EXISTS boards(
	id TEXT,
	title TEXT,
	description TEXT,

	UNIQUE(id)
);

CREATE TABLE IF NOT EXISTS moderators(
	username TEXT,
	hash BLOB,
	salt BLOB,

	type INTEGER,

	UNIQUE(username)
);

CREATE TABLE IF NOT EXISTS auditlog(
	id INTEGER PRIMARY KEY ASC,

	type INTEGER,
	date INTEGER,

	author TEXT,
	board TEXT,
	post INTEGER,

	reason INTEGER,

	FOREIGN KEY(board) REFERENCES boards(id),
	FOREIGN KEY(author) REFERENCES moderators(username)
);

CREATE TABLE IF NOT EXISTS reports(
	id INTEGER PRIMARY KEY ASC,

	date INTEGER,

	source TEXT,
	board TEXT,
	post INTEGER,

	reason TEXT,

	resolved INTEGER,

	FOREIGN KEY(board) REFERENCES boards(id)
);

CREATE TABLE IF NOT EXISTS news(
	id INTEGER PRIMARY KEY ASC,

	date INTEGER,

	author TEXT,
	subject TEXT,
	content TEXT
);

CREATE TABLE IF NOT EXISTS captchas(
	id TEXT,
	img BLOB,
	solution TEXT,

	UNIQUE(id)
);
